{% extends 'base.html' %}
{% load static %} {% load widget_tweaks %}

{% block scripts %}
    {{ block.super }}
    <script src="{% static 'js/tracks.js' %}" type="module"></script>
    <script src="{% static 'dist/tracks.js' %}" type="module"></script>
{% endblock %}


{% block styles %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/tracks.css' %}">
{% endblock styles %}


{% block content %}
<head>
    <title>ClinTAD | Tracks</title>
</head>

<script>
    // The data for the user's tracks is json format
    var tracks = {{tracks|safe}};
</script>

<div class="mdc-tab-bar" role="tablist">
  <div class="mdc-tab-scroller">
    <div class="mdc-tab-scroller__scroll-area">
      <div class="mdc-tab-scroller__scroll-content">
        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0">
          <span class="mdc-tab__content">
            <span class="mdc-tab__icon material-icons" aria-hidden="true">favorite</span>
            <span class="mdc-tab__text-label">My Tracks</span>
          </span>
          <span class="mdc-tab-indicator mdc-tab-indicator--active">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
          <span class="mdc-tab__ripple"></span>
        </button>

        <button class="mdc-tab" role="tab" aria-selected="true" tabindex="0">
          <span class="mdc-tab__content">
            <span class="mdc-tab__icon material-icons" aria-hidden="true">favorite</span>
            <span class="mdc-tab__text-label">Public Tracks</span>
          </span>
          <span class="mdc-tab-indicator">
            <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
          </span>
          <span class="mdc-tab__ripple"></span>
        </button>
      </div>
    </div>
  </div>
</div>
<br>

<div class="mdc-card card-w-title">
    <div class="card-top-div">
        <div class="card-title">Create New Track</div>
    </div>
    <div id="inputs-div">


    <div class="mdc-select mdc-select--outlined mdc-select--required" id="build-select">
      <div class="mdc-select__anchor" aria-labelledby="build-select-label" aria-required="true">
        <span class="mdc-notched-outline">
          <span class="mdc-notched-outline__leading"></span>
          <span class="mdc-notched-outline__notch">
            <span id="build-select-label" class="mdc-floating-label">Genome Build</span>
          </span>
          <span class="mdc-notched-outline__trailing"></span>
        </span>
        <span class="mdc-select__selected-text-container">
          <span id="demo-selected-text" class="mdc-select__selected-text"></span>
        </span>
        <span class="mdc-select__dropdown-icon">
          <svg
              class="mdc-select__dropdown-icon-graphic"
              viewBox="7 10 10 5" focusable="false">
            <polygon
                class="mdc-select__dropdown-icon-inactive"
                stroke="none"
                fill-rule="evenodd"
                points="7 10 12 15 17 10">
            </polygon>
            <polygon
                class="mdc-select__dropdown-icon-active"
                stroke="none"
                fill-rule="evenodd"
                points="7 15 12 10 17 15">
            </polygon>
          </svg>
        </span>
      </div>

      <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
        <ul class="mdc-list" id="add-hpo-ul" role="listbox">
            <li class="mdc-list-item" role="option" data-value="NCBI36" tab-index="-1">
                <span class="mdc-list-item__text">hg18 / NCBI36</span>
            </li>
            <li class="mdc-list-item" role="option" data-value="GRCh37" tab-index="0" aria-selected="true">
                <span class="mdc-list-item__text">hg19 / GRCh37</span>
            </li>
            <li class="mdc-list-item" role="option" data-value="GRCh38" tab-index="-1">
                <span class="mdc-list-item__text">hg38 / GRCh38</span>
            </li>
        </ul>
      </div>
    </div>


    <label id="track-name-field" class="mdc-text-field mdc-text-field--outlined">
      <span class="mdc-notched-outline">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <span class="mdc-floating-label" id="name-label">Track Name / Label</span>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>
        <input id="track-name-input" name="label" type="text" class="mdc-text-field__input" required>
    </label>

    <div class="mdc-select mdc-select--outlined mdc-select--required" id="track-type-select">
      <div class="mdc-select__anchor" aria-labelledby="track-select-label" aria-required="true">
        <span class="mdc-notched-outline">
          <span class="mdc-notched-outline__leading"></span>
          <span class="mdc-notched-outline__notch">
            <span id="track-select-label" class="mdc-floating-label">Track Type</span>
          </span>
          <span class="mdc-notched-outline__trailing"></span>
        </span>
        <span class="mdc-select__selected-text-container">
          <span id="demo-selected-text" class="mdc-select__selected-text"></span>
        </span>
        <span class="mdc-select__dropdown-icon">
          <svg
              class="mdc-select__dropdown-icon-graphic"
              viewBox="7 10 10 5" focusable="false">
            <polygon
                class="mdc-select__dropdown-icon-inactive"
                stroke="none"
                fill-rule="evenodd"
                points="7 10 12 15 17 10">
            </polygon>
            <polygon
                class="mdc-select__dropdown-icon-active"
                stroke="none"
                fill-rule="evenodd"
                points="7 15 12 10 17 15">
            </polygon>
          </svg>
        </span>
      </div>

      <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
        <ul class="mdc-list" role="listbox">
            <li class="mdc-list-item" role="option" data-value="cnv" tab-index="-1">
                <span class="mdc-list-item__text">CNV</span>
            </li>
            <li class="mdc-list-item" role="option" data-value="enhancer" tab-index="0" aria-selected="true">
                <span class="mdc-list-item__text">Enhancer</span>
            </li>
            <li class="mdc-list-item" role="option" data-value="other" tab-index="0" aria-selected="true">
                <span class="mdc-list-item__text">Other</span>
            </li>
            <li class="mdc-list-item" role="option" data-value="tad" tab-index="-1">
                <span class="mdc-list-item__text">TAD</span>
            </li>
        </ul>
      </div>
    </div>


    <label id="details-field" class="mdc-text-field mdc-text-field--outlined">
      <span class="mdc-notched-outline">
        <span class="mdc-notched-outline__leading"></span>
        <span class="mdc-notched-outline__notch">
          <span class="mdc-floating-label" id="details-label">Details / Comments</span>
        </span>
        <span class="mdc-notched-outline__trailing"></span>
      </span>
        <input id="details-input" name="details" type="text" class="mdc-text-field__input">
    </label>


    <div id="file-upload-div">
        <div id="upload-button">
            <i class="material-icons mdc-button__icon" aria-hidden="true">attach_file</i>
        </div>
        <div id="uploaded-file-name">Click to upload file</div>
        {{ form.uploaded_file }}
    </div>


        <button type="button" id="submit-track-button" class="mdc-button mdc-button--touch mdc-button--raised">
            <div class="mdc-button__ripple"></div>
            <div class="mdc-button__label">Submit</div>
            <div class="mdc-button__touch"></div>
        </button>
    </div>
</div>


<div class="mdc-card card-w-title">
    <div class="card-top-div">
        <div class="card-title">My Tracks</div>
    </div>
    <div class="card-text">

        <div class="mdc-data-table">
          <div class="mdc-data-table__table-container">
            <table class="mdc-data-table__table" aria-label="TAD Tracks">
              <thead>
                <tr class="mdc-data-table__header-row">
                  <th class="mdc-data-table__header-cell use-track-cell" role="columnheader" scope="col">Use Track</th>
                  <th class="mdc-data-table__header-cell label-cell" role="columnheader" scope="col">Label</th>
                  <th class="mdc-data-table__header-cell user-cell" role="columnheader" scope="col">Type</th>
                  <th class="mdc-data-table__header-cell build-cell" role="columnheader" scope="col">Build</th>
                  <th class="mdc-data-table__header-cell description-cell" role="columnheader" scope="col">Description</th>
                </tr>
              </thead>
              <tbody class="mdc-data-table__content" id="my-tracks-tbody">
                      <tr class="mdc-data-table__row">
                          <td class="mdc-data-table__cell use-track-cell">
                              <div class="mdc-touch-target-wrapper">
                                <div class="mdc-checkbox mdc-checkbox--touch">
                                  <input type="checkbox"
                                           class="mdc-checkbox__native-control"
                                           id="checkbox-1"/>
                                  <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark"
                                           viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path"
                                              fill="none"
                                              d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                  </div>
                                  <div class="mdc-checkbox__ripple"></div>
                                </div>
                              </div>
                          </td>
                          <td class="mdc-data-table__cell label-cell">Default TADs</td>
                          <td class="mdc-data-table__cell user-cell">Jacob Spector</td>
                          <td class="mdc-data-table__cell build-cell">hg19 / GRCh37</td>
                          <td class="mdc-data-table__cell description-cell">The default TAD boundary set was provided by Dr. Jesse Dixon (University of California,
                            San Diego). The data was generated using H1 human embryonic stem cells (hESCs),
                            chromosome build GRCh37, a bin size of 40kb, and a window size of 2Mb. Please see the About section
                            for reference and details.
                          </td>

                      </tr>
              </tbody>
            </table>
          </div>

          <div class="mdc-data-table__pagination">
            <div class="mdc-data-table__pagination-trailing">
              <div class="mdc-data-table__pagination-rows-per-page">
                <div class="mdc-data-table__pagination-rows-per-page-label">
                  Rows per page
                </div>

                <div class="mdc-select mdc-select--outlined mdc-select--no-label mdc-data-table__pagination-rows-per-page-select">
                  <div class="mdc-select__anchor" role="button" aria-haspopup="listbox"
                        aria-labelledby="demo-pagination-select" tabindex="0">
                    <span class="mdc-select__selected-text-container">
                      <span id="demo-pagination-select" class="mdc-select__selected-text">10</span>
                    </span>
                    <span class="mdc-select__dropdown-icon">
                      <svg
                          class="mdc-select__dropdown-icon-graphic"
                          viewBox="7 10 10 5">
                        <polygon
                            class="mdc-select__dropdown-icon-inactive"
                            stroke="none"
                            fill-rule="evenodd"
                            points="7 10 12 15 17 10">
                        </polygon>
                        <polygon
                            class="mdc-select__dropdown-icon-active"
                            stroke="none"
                            fill-rule="evenodd"
                            points="7 15 12 10 17 15">
                        </polygon>
                      </svg>
                    </span>
                    <span class="mdc-notched-outline mdc-notched-outline--notched">
                      <span class="mdc-notched-outline__leading"></span>
                      <span class="mdc-notched-outline__trailing"></span>
                    </span>
                  </div>

                  <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth" role="listbox">
                    <ul class="mdc-list">
                      <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" role="option" data-value="10">
                        <span class="mdc-list-item__text">10</span>
                      </li>
                      <li class="mdc-list-item" role="option" data-value="25">
                        <span class="mdc-list-item__text">25</span>
                      </li>
                      <li class="mdc-list-item" role="option" data-value="100">
                        <span class="mdc-list-item__text">100</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="mdc-data-table__pagination-navigation">
                <div class="mdc-data-table__pagination-total">
                  1‑10 of 100
                </div>

                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-first-page="true" disabled>
                  <div class="mdc-icon-button__ripple"></div>first_page
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-prev-page="true" disabled>
                  <div class="mdc-icon-button__ripple"></div>chevron_left
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-next-page="true">
                  <div class="mdc-icon-button__ripple"></div>chevron_right
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-last-page="true">
                  <div class="mdc-icon-button__ripple"></div>last_page
                </button>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>


<div class="mdc-card card-w-title">
    <div class="card-top-div">
        <div class="card-title">CNV Tracks</div>
    </div>
    <div class="card-text">
        <div class="mdc-data-table">
          <div class="mdc-data-table__table-container">
            <table class="mdc-data-table__table" aria-label="CNV Tracks">
              <thead>
                <tr class="mdc-data-table__header-row">
                  <th class="mdc-data-table__header-cell use-track-cell" role="columnheader" scope="col">Use Track</th>
                  <th class="mdc-data-table__header-cell label-cell" role="columnheader" scope="col">Label</th>
                  <th class="mdc-data-table__header-cell user-cell" role="columnheader" scope="col">User</th>
                  <th class="mdc-data-table__header-cell build-cell" role="columnheader" scope="col">Build</th>
                  <th class="mdc-data-table__header-cell description-cell" role="columnheader" scope="col">Description</th>
                </tr>
              </thead>
              <tbody class="mdc-data-table__content" id="cnv">
                      <tr class="mdc-data-table__row">
                          <td class="mdc-data-table__cell use-track-cell">
                              <div class="mdc-touch-target-wrapper">
                                <div class="mdc-checkbox mdc-checkbox--touch">
                                  <input type="checkbox"
                                           class="mdc-checkbox__native-control"
                                           id="checkbox-1"/>
                                  <div class="mdc-checkbox__background">
                                    <svg class="mdc-checkbox__checkmark"
                                           viewBox="0 0 24 24">
                                        <path class="mdc-checkbox__checkmark-path"
                                              fill="none"
                                              d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                    </svg>
                                    <div class="mdc-checkbox__mixedmark"></div>
                                  </div>
                                  <div class="mdc-checkbox__ripple"></div>
                                </div>
                              </div>
                          </td>
                          <td class="mdc-data-table__cell label-cell">DGV CNVs</td>
                          <td class="mdc-data-table__cell user-cell">Jacob Spector</td>
                          <td class="mdc-data-table__cell build-cell">hg19 / GRCh37</td>
                          <td class="mdc-data-table__cell description-cell">The default set of CNVs uses data from DGV (Database of Genomic Variants). The CNVs
                            include those in the "DGV Gold Standard Variants", a curated list of variants from select studies, with some
                            variants merged if they had sufficient overlap.
                          </td>
                      </tr>
              </tbody>
            </table>
          </div>

          <div class="mdc-data-table__pagination">
            <div class="mdc-data-table__pagination-trailing">
              <div class="mdc-data-table__pagination-rows-per-page">
                <div class="mdc-data-table__pagination-rows-per-page-label">
                  Rows per page
                </div>

                <div class="mdc-select mdc-select--outlined mdc-select--no-label mdc-data-table__pagination-rows-per-page-select">
                  <div class="mdc-select__anchor" role="button" aria-haspopup="listbox"
                        aria-labelledby="demo-pagination-select" tabindex="0">
                    <span class="mdc-select__selected-text-container">
                      <span id="demo-pagination-select" class="mdc-select__selected-text">10</span>
                    </span>
                    <span class="mdc-select__dropdown-icon">
                      <svg
                          class="mdc-select__dropdown-icon-graphic"
                          viewBox="7 10 10 5">
                        <polygon
                            class="mdc-select__dropdown-icon-inactive"
                            stroke="none"
                            fill-rule="evenodd"
                            points="7 10 12 15 17 10">
                        </polygon>
                        <polygon
                            class="mdc-select__dropdown-icon-active"
                            stroke="none"
                            fill-rule="evenodd"
                            points="7 15 12 10 17 15">
                        </polygon>
                      </svg>
                    </span>
                    <span class="mdc-notched-outline mdc-notched-outline--notched">
                      <span class="mdc-notched-outline__leading"></span>
                      <span class="mdc-notched-outline__trailing"></span>
                    </span>
                  </div>

                  <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth" role="listbox">
                    <ul class="mdc-list">
                      <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" role="option" data-value="10">
                        <span class="mdc-list-item__text">10</span>
                      </li>
                      <li class="mdc-list-item" role="option" data-value="25">
                        <span class="mdc-list-item__text">25</span>
                      </li>
                      <li class="mdc-list-item" role="option" data-value="100">
                        <span class="mdc-list-item__text">100</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="mdc-data-table__pagination-navigation">
                <div class="mdc-data-table__pagination-total">
                  1‑10 of 100
                </div>

                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-first-page="true" disabled>
                  <div class="mdc-icon-button__ripple"></div>first_page
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-prev-page="true" disabled>
                  <div class="mdc-icon-button__ripple"></div>chevron_left
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-next-page="true">
                  <div class="mdc-icon-button__ripple"></div>chevron_right
                </button>
                <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-last-page="true">
                  <div class="mdc-icon-button__ripple"></div>last_page
                </button>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>

<div class="mdc-card card-w-title">
  <div class="card-top-div">
      <div class="card-title">Enchancer Tracks</div>
  </div>
  <div class="card-text">
      <div class="mdc-data-table">
        <div class="mdc-data-table__table-container">
          <table class="mdc-data-table__table" aria-label="Enhancer Tracks">
            <thead>
              <tr class="mdc-data-table__header-row">
                <th class="mdc-data-table__header-cell use-track-cell" role="columnheader" scope="col">Use Track</th>
                <th class="mdc-data-table__header-cell label-cell" role="columnheader" scope="col">Label</th>
                <th class="mdc-data-table__header-cell user-cell" role="columnheader" scope="col">User</th>
                <th class="mdc-data-table__header-cell build-cell" role="columnheader" scope="col">Build</th>
                <th class="mdc-data-table__header-cell description-cell" role="columnheader" scope="col">Description</th>
              </tr>
            </thead>
            <tbody class="mdc-data-table__content" id="enhancer">
                    <tr class="mdc-data-table__row">
                        <td class="mdc-data-table__cell use-track-cell">
                            <div class="mdc-touch-target-wrapper">
                              <div class="mdc-checkbox mdc-checkbox--touch">
                                <input type="checkbox"
                                         class="mdc-checkbox__native-control"
                                         id="checkbox-1"/>
                                <div class="mdc-checkbox__background">
                                  <svg class="mdc-checkbox__checkmark"
                                         viewBox="0 0 24 24">
                                      <path class="mdc-checkbox__checkmark-path"
                                            fill="none"
                                            d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
                                  </svg>
                                  <div class="mdc-checkbox__mixedmark"></div>
                                </div>
                                <div class="mdc-checkbox__ripple"></div>
                              </div>
                            </div>
                        </td>
                        <td class="mdc-data-table__cell label-cell">Default Enhancers</td>
                        <td class="mdc-data-table__cell user-cell">Jacob Spector</td>
                        <td class="mdc-data-table__cell build-cell">hg19 / GRCh37</td>
                        <td class="mdc-data-table__cell description-cell">The default set of enhancers is based on data from the VISTA Enhancer Browser. We include
                            only human enhancers that were positive for in vivo enhancer activity as defined by VISTA. Please see
                            the about section for reference and details.
                        </td>
                    </tr>
            </tbody>
          </table>
        </div>

        <div class="mdc-data-table__pagination">
          <div class="mdc-data-table__pagination-trailing">
            <div class="mdc-data-table__pagination-rows-per-page">
              <div class="mdc-data-table__pagination-rows-per-page-label">
                Rows per page
              </div>

              <div class="mdc-select mdc-select--outlined mdc-select--no-label mdc-data-table__pagination-rows-per-page-select">
                <div class="mdc-select__anchor" role="button" aria-haspopup="listbox"
                      aria-labelledby="demo-pagination-select" tabindex="0">
                  <span class="mdc-select__selected-text-container">
                    <span id="demo-pagination-select" class="mdc-select__selected-text">10</span>
                  </span>
                  <span class="mdc-select__dropdown-icon">
                    <svg
                        class="mdc-select__dropdown-icon-graphic"
                        viewBox="7 10 10 5">
                      <polygon
                          class="mdc-select__dropdown-icon-inactive"
                          stroke="none"
                          fill-rule="evenodd"
                          points="7 10 12 15 17 10">
                      </polygon>
                      <polygon
                          class="mdc-select__dropdown-icon-active"
                          stroke="none"
                          fill-rule="evenodd"
                          points="7 15 12 10 17 15">
                      </polygon>
                    </svg>
                  </span>
                  <span class="mdc-notched-outline mdc-notched-outline--notched">
                    <span class="mdc-notched-outline__leading"></span>
                    <span class="mdc-notched-outline__trailing"></span>
                  </span>
                </div>

                <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth" role="listbox">
                  <ul class="mdc-list">
                    <li class="mdc-list-item mdc-list-item--selected" aria-selected="true" role="option" data-value="10">
                      <span class="mdc-list-item__text">10</span>
                    </li>
                    <li class="mdc-list-item" role="option" data-value="25">
                      <span class="mdc-list-item__text">25</span>
                    </li>
                    <li class="mdc-list-item" role="option" data-value="100">
                      <span class="mdc-list-item__text">100</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="mdc-data-table__pagination-navigation">
              <div class="mdc-data-table__pagination-total">
                1‑10 of 100
              </div>

              <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-first-page="true" disabled>
                <div class="mdc-icon-button__ripple"></div>first_page
              </button>
              <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-prev-page="true" disabled>
                <div class="mdc-icon-button__ripple"></div>chevron_left
              </button>
              <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-next-page="true">
                <div class="mdc-icon-button__ripple"></div>chevron_right
              </button>
              <button class="mdc-icon-button material-icons mdc-data-table__pagination-button" data-last-page="true">
                <div class="mdc-icon-button__ripple"></div>last_page
              </button>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>
{% endblock %}